(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{1881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(5155),a=t(2115),i=t(5695),n=t(6874),d=t.n(n),l=t(3453),c=t(4186),o=t(7168),m=t(8482),u=t(5295),x=t(5535);function h(){let e=(0,i.useSearchParams)(),s=e.get("orderId"),t=e.get("points"),{user:n}=(0,x.J)(),[h,p]=(0,a.useState)(0),[f,j]=(0,a.useState)("Order Received");return((0,a.useEffect)(()=>{let e=setTimeout(()=>{p(33),j("Preparing")},3e3),s=setTimeout(()=>{p(66),j("Ready Soon")},6e3),t=setTimeout(()=>{p(100),j("Ready for Pickup")},9e3);return()=>{clearTimeout(e),clearTimeout(s),clearTimeout(t)}},[]),s)?(0,r.jsx)("div",{className:"container px-4 py-8 md:py-12 max-w-md mx-auto",children:(0,r.jsxs)(m.Zp,{className:"text-center",children:[(0,r.jsxs)(m.aR,{children:[(0,r.jsx)("div",{className:"mx-auto mb-4 bg-primary/10 p-3 rounded-full",children:(0,r.jsx)(l.A,{className:"h-12 w-12 text-primary"})}),(0,r.jsx)(m.ZB,{className:"text-2xl",children:"Order Confirmed!"}),(0,r.jsxs)(m.BT,{children:["Your order #",s.split("-")[1]," has been received"]})]}),(0,r.jsxs)(m.Wu,{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:f}),(0,r.jsx)("span",{className:"text-muted-foreground",children:100===h?"Ready!":"In Progress"})]}),(0,r.jsx)(u.k,{value:h,className:"h-2"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6 text-muted-foreground",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Estimated pickup time: 10-15 minutes"})]}),n&&t&&(0,r.jsx)(m.Zp,{className:"bg-muted/50 mb-6",children:(0,r.jsxs)(m.Wu,{className:"p-4",children:[(0,r.jsxs)("p",{className:"font-medium",children:["You earned ",t," loyalty points!"]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Current balance: ",n.points," points"]})]})}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)(o.$,{asChild:!0,children:(0,r.jsx)(d(),{href:"/menu",children:"Order More"})}),(0,r.jsx)(o.$,{asChild:!0,variant:"outline",children:(0,r.jsx)(d(),{href:"/",children:"Back to Home"})})]})]})]})}):(0,r.jsxs)("div",{className:"container px-4 py-8 md:py-12 max-w-md mx-auto text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Order Not Found"}),(0,r.jsx)("p",{className:"mb-8",children:"We couldn't find your order information."}),(0,r.jsx)(o.$,{asChild:!0,children:(0,r.jsx)(d(),{href:"/menu",children:"Back to Menu"})})]})}},2342:(e,s,t)=>{Promise.resolve().then(t.bind(t,1881))},5535:(e,s,t)=>{"use strict";t.d(s,{J:()=>l,v:()=>d});var r=t(5155),a=t(2115),i=t(8230);let n=(0,a.createContext)(void 0);function d(e){let{children:s}=e,{user:t,isLoading:d}=(0,i.A)(),[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!d&&t){let e=localStorage.getItem("birthdayReminder-".concat(t.id));e&&c("true"===e)}},[d,t]);let o=e=>e>=750?"gold":e>=300?"silver":"bronze";return(0,r.jsx)(n.Provider,{value:{addPoints:e=>{if(!t)return;let s={...t,points:t.points+e,level:o(t.points+e)};localStorage.setItem("user",JSON.stringify(s))},updateBirthdayReminder:e=>{t&&(c(e),localStorage.setItem("birthdayReminder-".concat(t.id),String(e)))},birthdayReminderEnabled:l},children:s})}function l(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}}},e=>{var s=s=>e(e.s=s);e.O(0,[803,874,230,624,441,684,358],()=>s(2342)),_N_E=e.O()}]);